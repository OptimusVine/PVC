<html>
  <head>
  <title>Flapper News</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>
  <script src="/javascripts/angularApp.js"></script>
  <style> .glyphicon-thumbs-up { cursor:pointer } </style>
</head>
  <body ng-app="PVC">
  	<h2> </h2>

  	<div>
  		<ui-view></ui-view>
  	</div>


    <script type="text/ng-template" id="/home.html">
    <div style="margin-left:30px">
      <h2>Welcome to the Main Page</h2>
      <h3>Select which workspace to enter</h3>
    		<div ng-repeat="workspace in workspaces">
         <a href="#/wines"> {{ workspace.data.label }} </a>
        </div>

        <div ng-hide="isEmpty()">
        workspaces is empty, it may be pending
        </div>
        </div>
    </script>

  <script type="text/ng-template" id="/todos.html">
    <div style="margin-left:20px;"
    <span style="margin-top:30px;"><h2>To Dos!</h2></span>
    <h3>This is a list of only incomplete ToDos</h3>
    If something is missing, it may already be compelted and that is not visible form this screen
    <br><br>


        <div ng-repeat="todo in todos">
          Please Complete: {{ todo.name }} ---- 
            <span ng-click="completeToDo(todo._id)">
            <a href="/#/todos">Complete!</a></span>
          <div style='margin-left:20px'> Summary: {{todo.summary}}<div>
            <div ng-repeat="wine in todo.wines">
            <a href="#/wines/{{wine}}">Wine: {{wine}}</a>
            </div>
        </div>

    </div>  
    </script>

    <script type="text/ng-template" id="/wines.html">
      <div class="page-header" style="margin-left:30px">
       <h2> List of {{ winesLength }} <a href="#/wines">Wines</a> in the PVC database </h2>
      </div>

      <div style="margin-left:20px">
         <form
          style="margin-top:30px;">
          <h3>Search for a Wine</h3>

          <div class="form-group">
            <input type="text"
            class="form-control"
            placeholder="Search"
            ng-model="search"></input>
          </div>
          <a href="#/search/{{search}}">
          <button type="submit" class="btn btn-primary">Search</button>
          </a>
        </form>
      </div>


    	<div style="margin-left:20px;">
    		<div ng-repeat="wine in wines">
         <span style="font-size:20px; margin-left:10px;">
    			Wine: {{ wine.vintage }} {{ wine.name}}<span ng-show="wine.varietal">, {{ wine.varietal }} : </span>
            <a href="#/wines/{{wine._id}}">Details</a>
          </span>
    		</div>
    	</div>

      <div ng-show="error" class="alert alert-danger row">
        <span>{{ error.message }}</span>
      </div>

      <div>
        <form ng-submit="addWine()"
          style="margin-top:30px; margin-left:20px; width:500px;">
          <h3>Add a new Wine</h3>
          <div class="form-group">
            <label for="name">Name:</label>
            <input type="text"
              class="form-control"
              plceholder="Name"
              ng-model="name"></input>
          </div>
          <div class="form-group">
             <label for="varietal">Varietal:</label>
              <input type="text"
              class="form-control"
              plceholder="Varietal"
              ng-model="varietal"></input>
          </div>
          
          <div class="form-group">
              <label for="vintage">Vintage:</label>
             <input type="text"
              class="form-control"
              style="display:inline;"
              plceholder="Vintage"
              ng-model="vintage">  </input>
          </div>
          
          <button type="submit" class="btn btn-primary">Add Wine</button>
        </form>
      </div>
    </script>

    <script type="text/ng-template" id="/workspaces.html">
    	<div ng-show="workspaces">
    		<div ng-repeat="workspace in workspaces">
    			This is a {{ workspace }} type of wine
    		</div>
    	</div>

      <div ng-hide="isEmpty()">
        workspaces is empty, it may be pending
      </div>
    </script>



    <script type="text/ng-template" id="/wine.html">
    <div style="margin-left:20px"
      <div class="page-header">
        <h3>
          {{ wine.name }}
        </h3>
        <div ng-repeat="comment in wine.comments">

          <span style="font-size:20px; margin-left:10px;">
            {{comment.body}}
          </span>
      </div>

        <form ng-submit="addComment()"
          style="margin-top:30px;">
          <h3>Add a new comment</h3>

          <div class="form-group">
            <input type="text"
            class="form-control"
            placeholder="Comment"
            ng-model="body"></input>
          </div>
          <button type="submit" class="btn btn-primary">Post</button>
        </form>

        <div ng-repeat="todo in wine.todos">
        
          <span style="font-size:20px; margin-left:10px;">
            <span ng-hide="todo.complete">  
            <button class="btn btn-primary" 
            ng-click="completeToDo(todo._id)">X</button>
            To-Do: {{todo.name}} </span>
                        <span ng-click="sendMail(todo)"> - Send - </span>
          </span>
        </div>

        <form ng-submit="addToDo()"
          style="margin-top:30px;">
          <h3>Add a new ToDo</h3>

          <div class="form-group">
            <input type="text"
            class="form-control"
            placeholder="To Do Name"
            ng-model="name"></input>
          </div>
          <div class="form-group">
            <input type="text"
            class="form-control"
            placeholder="To Do Summary"
            ng-model="summary"></input>
          </div>
          <button type="submit" class="btn btn-primary">Post</button>
        </form>
      </div>
  </script>

  </body>
</html>
